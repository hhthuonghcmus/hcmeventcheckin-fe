<form class="container pt-3 d-grid gap-3" [formGroup]="eventForm">
    <div class="card p-3">
      <p-floatlabel variant="in">
        <input pInputText formControlName="name" pSize="large" class="w-100" />
        <label for="name"
          >Event name
          <small
            class="text-danger"
            *ngIf="eventForm.get('name')?.hasError('required')"
          >
            (required)</small
          ></label
        >
      </p-floatlabel>
    </div>
  
    
    <div class="card p-3 d-flex gap-2">
      <div class="row d-flex align-items-center justify-content-between gap-2">
          
        <div class="col-12 col-sm-5 col-md-4">
          <p-floatlabel variant="in">
            <p-datepicker
              formControlName="startTime"
              showIcon
              iconDisplay="input"
              [showTime]="true"
              [hourFormat]="'24'"
              dateFormat="dd-M-yy"
              pSize="small"
              class="d-inline-grid w-100"
            />
            <label for="startTime"
              >Start 
              <small
                class="text-danger"
                *ngIf="eventForm.get('startTime')?.hasError('required')"
              >
                (required)
              </small></label
            >
          </p-floatlabel>
        </div>
        
        <div class="col-12">
          <p-floatlabel variant="in">
            <input
              pInputText
              formControlName="location"
              pSize="small"
              class="w-100"
            />
            <label for="location">Location</label>
          </p-floatlabel>
        </div>
  
        <div class="col-12">
          <p-floatlabel variant="in">
            <textarea
              pTextarea
              formControlName="description"
              rows="5"
              pSize="small"
              class="w-100"
            ></textarea>
            <label for="description">Description</label>
          </p-floatlabel>
        </div>
  
      </div>
  
      <div class="row d-flex align-items-center gap-1">
        <span class="text-secondary">Lucky draw</span>
  
        <div class="col-12 col-sm-5 col-md-4">
          <p-floatlabel variant="in">
            <p-datepicker
              formControlName="luckyDrawStartTime"
              showIcon
              iconDisplay="input"
              [showTime]="true"
              [hourFormat]="'24'"
              dateFormat="dd-M-yy"
              pSize="small"
              class="d-inline-grid w-100"
            />
            <label for="luckyDrawStartTime"
              >Start
              <small
                class="text-danger"
                *ngIf="eventForm.get('luckyDrawStartTime')?.hasError('required')"
              >
                (required)
              </small></label
            >
          </p-floatlabel>
        </div>
  
        <div class="col-12 col-sm-5 col-md-4">
          <p-floatlabel variant="in">
            <p-datepicker
              formControlName="luckyDrawEndTime"
              showIcon
              iconDisplay="input"
              [showTime]="true"
              [hourFormat]="'24'"
              dateFormat="dd-M-yy"
              pSize="small"
              class="d-inline-grid w-100"
            />
            <label for="luckyDrawEndTime"
              >End
              <small
                class="text-danger"
                *ngIf="eventForm.get('luckyDrawEndTime')?.hasError('required')"
              >
                (required)
              </small></label
            >
          </p-floatlabel>
        </div>
      </div>
  
      <div class="row d-flex align-items-center gap-1">
        <span class="text-secondary">Voting</span>
  
        <div class="col-12 col-sm-5 col-md-4">
          <p-floatlabel variant="in">
            <p-datepicker
              formControlName="votingStartTime"
              showIcon
              iconDisplay="input"
              [showTime]="true"
              [hourFormat]="'24'"
              dateFormat="dd-M-yy"
              pSize="small"
              class="d-inline-grid w-100"
            />
            <label for="votingStartTime"
              >Start
              <small
                class="text-danger"
                *ngIf="eventForm.get('votingStartTime')?.hasError('required')"
              >
                (required)
              </small></label
            >
          </p-floatlabel>
        </div>
  
        <div class="col-12 col-sm-5 col-md-4">
          <p-floatlabel variant="in">
            <p-datepicker
              formControlName="votingEndTime"
              showIcon
              iconDisplay="input"
              [showTime]="true"
              [hourFormat]="'24'"
              dateFormat="dd-M-yy"
              pSize="small"
              class="d-inline-grid w-100"
            />
            <label for="votingEndTime"
              >End
              <small
                class="text-danger"
                *ngIf="eventForm.get('votingEndTime')?.hasError('required')"
              >
                (required)
              </small></label
            >
          </p-floatlabel>
        </div>
  
        <div class="col-12 col-sm-5 col-md-4">
          <p-floatlabel variant="in">
            <p-select
              [autoDisplayFirst]="false"
              [options]="myTopics$ | async"
              optionLabel="name"
              optionValue="id"
              formControlName="topicId"
              class="w-100"
            />
            <label for="topicId"
              >Voting topic
              <small
                class="text-danger"
                *ngIf="eventForm.get('topicId')?.hasError('required')"
              >
                (required)
              </small>
            </label>
          </p-floatlabel>
        </div>
      </div>
    </div>
  
    <div class="d-flex align-items-center justify-content-end">
      <div class="d-flex align-items-center gap-2">
        <p-button
          icon="pi pi-file-plus"
          severity="success"
          label="Confirm edit"
          (click)="confirm()"
          [disabled]="eventForm.invalid"
        />
        <p-button
          icon="pi pi-sign-out"
          severity="danger"
          label="Back"
          [routerLink]="['/event/my-events']"
        />
      </div>
    </div>
  </form>
  